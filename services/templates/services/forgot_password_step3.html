{% extends 'services/base.html' %}

{% block title %}Reset Password - ServiceHub{% endblock %}

{% block content %}
<div class="min-h-screen flex items-center justify-center py-8">
    <div class="max-w-md w-full px-4">
        <div class="card glass-effect">
            <div class="card-body">
                <div class="text-center mb-8">
                    <div class="w-24 h-24 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center mx-auto mb-4 animate-pulse">
                        <i class="fas fa-lock text-5xl text-white"></i>
                    </div>
                    <h2 class="text-3xl font-bold">Create New Password</h2>
                    <p class="text-base-content/70 mt-2">Choose a strong password for your account</p>
                </div>
                
                <form method="POST">
                    {% csrf_token %}
                    
                    <!-- New Password -->
                    <div class="form-control">
                        <label class="label">
                            <span class="label-text font-semibold text-lg">
                                <i class="fas fa-lock text-primary mr-2"></i>New Password
                            </span>
                        </label>
                        <input 
                            type="password" 
                            name="new_password" 
                            class="input input-bordered w-full text-lg" 
                            placeholder="Enter new password"
                            minlength="6"
                            required
                            autofocus
                        >
                        <label class="label">
                            <span class="label-text-alt text-base-content/60">
                                Minimum 6 characters
                            </span>
                        </label>
                    </div>
                    
                    <!-- Confirm Password -->
                    <div class="form-control mt-4">
                        <label class="label">
                            <span class="label-text font-semibold text-lg">
                                <i class="fas fa-lock text-success mr-2"></i>Confirm Password
                            </span>
                        </label>
                        <input 
                            type="password" 
                            name="confirm_password" 
                            class="input input-bordered w-full text-lg" 
                            placeholder="Re-enter new password"
                            minlength="6"
                            required
                        >
                    </div>
                    
                    <!-- Success Alert -->
                    <div class="alert alert-success mt-6">
                        <i class="fas fa-check-circle"></i>
                        <span>OTP verified! Now set your new password</span>
                    </div>
                    
                    <!-- Password Tips -->
                    <div class="alert alert-info mt-4">
                        <i class="fas fa-lightbulb"></i>
                        <div class="flex-1">
                            <p class="font-bold text-sm">Password Tips:</p>
                            <ul class="text-xs mt-1 ml-4 list-disc">
                                <li>Use at least 6 characters</li>
                                <li>Mix letters and numbers</li>
                                <li>Avoid common passwords</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Submit Button -->
                    <div class="form-control mt-6">
                        <button type="submit" class="btn btn-primary btn-lg btn-block hover-lift">
                            <i class="fas fa-check-double mr-2"></i>
                            Reset Password
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    // Password match validation
    document.querySelector('form').addEventListener('submit', function(e) {
        const newPass = document.querySelector('input[name="new_password"]').value;
        const confirmPass = document.querySelector('input[name="confirm_password"]').value;
        
        if (newPass !== confirmPass) {
            e.preventDefault();
            alert('Passwords do not match!');
        }
    });
</script>
{% endblock %}